# Workload model for rendering into *.auto.tfvars.json by scripts/render-model.ps1
name: web-api
tier: corp
env: dev
location: southeastasia

diagnostics:
  logAnalyticsWorkspaceId: /subscriptions/<sub-guid>/resourceGroups/rg-mgmt-dev/providers/Microsoft.OperationalInsights/workspaces/law-mgmt-dev
  enableActivityLogs: true

security:
  privateEndpoints: true
  defenderPlans:
    storage: true
    sql: true

rbac:
  owners:
    - "11111111-1111-1111-1111-111111111111"   # Entra group objectId
  contributors:
    - "22222222-2222-2222-2222-222222222222"

workload:
  compute: appservice
  sku: P1v3
  instances: 2
  managedIdentity: systemAssigned
